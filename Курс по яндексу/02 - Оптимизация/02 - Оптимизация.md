# –í–≥–ª—É–±—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

–í—ã —É–≤–∏–¥–µ–ª–∏, —á—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äî —Ö–æ—Ä–æ—à–∞—è –≤–µ—â—å, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏–∑–º–µ–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏ —Ç–µ–º —Å–∞–º—ã–º —É—Å–∫–æ—Ä–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∏–ª–∏ –≤ —Å–æ—Ç–Ω–∏ —Ä–∞–∑. –†–∞–∑–±–µ—Ä—ë–º—Å—è, –º–æ–∂–Ω–æ –ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –Ω–µ –º–µ–Ω—è—è –Ω–∏—á–µ–≥–æ –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∞ —Å–æ–≤–µ—Ä—à–∞–µ—Ç.

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –æ–±—Å–µ—Ä–≤–∞—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ç–µ–ª–µ—Å–∫–æ–ø, –∑–∞ –æ–¥–Ω—É –Ω–æ—á—å —Å–æ–≤–µ—Ä—à–∞—é—â–∏–π –∏–∑–º–µ—Ä–µ–Ω–∏—è –Ω–∞ `n` —É—á–∞—Å—Ç–∫–∞—Ö –Ω–µ–±–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑–º–µ—Ä–µ–Ω–∏—è –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –æ–¥–Ω–∏–º –ª–∞—Ç–∏–Ω—Å–∫–∏–º —Å–∏–º–≤–æ–ª–æ–º –æ—Ç A –¥–æ Z. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ –¥–ª–∏–Ω—ã `n`.

![image](https://pictures.s3.yandex.net/resources/Untitled_Artwork_3-min_1616675064.png)

–°–æ–±—Ä–∞–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Ä–∞–±–æ—Ç—ã —Ç–µ–ª–µ—Å–∫–æ–ø–∞. –°—Ä–µ–¥–∏ –Ω–∏—Ö –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —É—á–∞—Å—Ç–∫–∏ –Ω–µ–±–∞, –≥–¥–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ ‚Äî —Å –ª–∏—Ç–µ—Ä–æ–π K –∏–ª–∏ –¥–∞–ª–µ–µ. –†–µ–∞–ª–∏–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–¥—Å—á—ë—Ç–∞ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–∫—É –Ω–µ–±–∞:


```cpp

#include <string>
#include <vector>

using namespace std;

// —Ñ—É–Ω–∫—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–µ–ª–µ—Å–∫–æ–ø–∞, –æ–ø—Ä–µ–¥–µ–ª—è—è, —Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
// –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é
vector<int> ComputeStatistics(const vector<string>& vs, int n) {
    int m = vs.size();
    vector<int> result(n);

    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < m; ++j) {
            if (vs[j][i] >= 'K') {
                ++result[i];
            }
        }
    }

    return result;
} 
```


–§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä, —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –Ω—É–ª–µ–≤–æ–º —É—á–∞—Å—Ç–∫–µ –Ω–µ–±–∞, –ø–µ—Ä–≤–æ–º, –≤—Ç–æ—Ä–æ–º. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é, –∏–∑–º–µ—Ä–∏–≤ –≤—Ä–µ–º—è. –°—á–∏—Ç–∞–µ–º, —á—Ç–æ –ø—Ä–æ—à–ª–æ 5000 –¥–Ω–µ–π, –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–∫–æ–≤ –Ω–µ–±–∞ —Ç–æ–∂–µ —Ä–∞–≤–Ω–æ 5000. –†–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ª–µ—Å–∫–æ–ø–∞ —É –Ω–∞—Å –ø–æ–¥ —Ä—É–∫–æ–π –Ω–µ—Ç, –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–æ–ª–Ω–∏–º –≤–µ–∫—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏:



```cpp
#include "log_duration.h"

#include <algorithm>
#include <iostream>
#include <numeric>
#include <random>
#include <string>
#include <vector>

using namespace std;

// —Ñ—É–Ω–∫—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–µ–ª–µ—Å–∫–æ–ø–∞, –æ–ø—Ä–µ–¥–µ–ª—è—è, —Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
// –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é
vector<int> ComputeStatistics(const vector<string>& vs, int n) {
    int m = vs.size();
    vector<int> result(n);

    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < m; ++j) {
            // –ø—Ä–∏–±–∞–≤–ª—è–µ–º 1, –µ—Å–ª–∏ —Å–∏–≥–Ω–∞–ª –Ω–µ –º–µ–Ω–µ–µ 'K'
            result[i] += (vs[j][i] >= 'K' ? 1 : 0);
        }
    }

    return result;
}

string GetRandomString(int size) {
    static mt19937 engine;
    uniform_int_distribution<int> distribution('A', 'Z');

    string res(size, ' ');
    for (char& c : res) {
        c = char(distribution(engine));
    }

    return res;
}

int main() {
    vector<string> data;

    for (int i = 0; i < 5000; ++i) {
        data.push_back(GetRandomString(5000));
    }

    vector<int> statistics;
    {
        LOG_DURATION("ComputeStatistics"s);
        statistics = ComputeStatistics(data, 5000);
    }

    cout << "–í—Å–µ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: "s << accumulate(statistics.begin(), statistics.end(), 0) << endl;
} 
```


–†–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫–∏–º:
```cpp
ComputeStatistics: 134 ms
–í—Å–µ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: 15379777 
```

–ü–æ–¥—É–º–∞–µ–º, –º–Ω–æ–≥–æ —ç—Ç–æ –∏–ª–∏ –º–∞–ª–æ ‚Äî 134 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã. –ó–∞ —Ç–∞–∫–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 5000 √ó 5000, —Ç–æ –µ—Å—Ç—å 25 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –±–∞–π—Ç. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –∑–∞ —Å–µ–∫—É–Ω–¥—É –±—ã–ª–æ –±—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –æ–∫–æ–ª–æ 187 –º–∏–ª–ª–∏–æ–Ω–æ–≤. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–∫–∞–∑–∞—Ç—å –≤ —Å–µ–∫—É–Ω–¥—É –º–∏–Ω–∏–º—É–º 25 –∫–∞–¥—Ä–æ–≤ –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ 4K, —Ç–æ –µ—Å—Ç—å 4096 √ó 3072 √ó 25 –±–∞–π—Ç. –≠—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ 315 –º–∏–ª–ª–∏–æ–Ω–æ–≤. –ß—Ç–æ-—Ç–æ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –∫—É–¥–∞ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, —á–µ–º –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –±—É–∫–≤. –ó–Ω–∞—á–∏—Ç, –≤ –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫.

–í–Ω–µ—Å—ë–º –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –ø–æ–º–µ–Ω—è–µ–º –ø–æ—Ä—è–¥–æ–∫ —Ü–∏–∫–ª–æ–≤ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –ø–æ–¥—Å—á—ë—Ç–∞:


```cpp

vector<int> ComputeStatistics2(const vector<string>& vs, int n) {
    int m = vs.size();
    vector<int> result(n);

    // —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–≤—ã–º –∏–¥—ë—Ç —Ü–∏–∫–ª –ø–æ j
    for (int j = 0; j < m; ++j) {
        for (int i = 0; i < n; ++i) {
            // –ø—Ä–∏–±–∞–≤–ª—è–µ–º 1, –µ—Å–ª–∏ —Å–∏–≥–Ω–∞–ª –Ω–µ –º–µ–Ω–µ–µ 'K'
            result[i] += (vs[j][i] >= 'K' ? 1 : 0);
        }
    }

    return result;
}
```
–ó–∞–ø—É—Å—Ç–∏–º —ç—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ —Å—Ä–∞–≤–Ω–∏–º –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏:


```cpp

ComputeStatistics: 130 ms
ComputeStatistics2: 42 ms
–í—Å–µ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: 15379777 

```

–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã–∏–≥—Ä—ã—à –≤ —Ç—Ä–∏ —Ä–∞–∑–∞. –ù–∞–≤–µ—Ä–Ω–æ–µ, –º—ã —á—Ç–æ-–Ω–∏–±—É–¥—å –ø–µ—Ä–µ–ø—É—Ç–∞–ª–∏, –≤–µ–¥—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É –≤—Å—ë —Ä–∞–≤–Ω–æ, –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–µ–Ω–∏—è, –µ—Å–ª–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å.

–ü—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –¥—Ä—É–≥–æ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –Ω—É–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –æ—Ç–≤–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥–µ—Ç —Ç–∞–∫–∏–º –∂–µ, –∫–∞–∫ –æ—Ç–≤–µ—Ç —Å—Ç–∞—Ä–æ–π, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–π. –°–¥–µ–ª–∞–µ–º —ç—Ç–æ. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç—ã —Å–æ–≤–ø–∞–¥—É—Ç, –∑–Ω–∞—á–∏—Ç, `ComputeStatistics2` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É, –ø—Ä–∏—á—ë–º –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –≤ —Ä–∞–∑—ã –±—ã—Å—Ç—Ä–µ–µ. –í—Å—Ç–∞–≤–∏–º –≤ `main` —Ç–∞–∫–æ–π –∫–æ–¥:


```cpp

...
vector<int> statistics2;
{
    LOG_DURATION("ComputeStatistics2"s);
    statistics2 = ComputeStatistics2(data, 5000);
}

cout << (statistics == statistics2 ? "OK"s : "Fail"s) << endl;
... 

```

–ó–∞–ø—É—Å—Ç–∏–º –µ—â—ë —Ä–∞–∑:


```cpp

ComputeStatistics: 131 ms
ComputeStatistics2: 48 ms
OK
–í—Å–µ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: 15379777 

```

–û—Ç–≤–µ—Ç—ã —Å–æ–≤–ø–∞–ª–∏! –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –æ–¥–∏–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –±—ã—Å—Ç—Ä–µ–µ –¥—Ä—É–≥–æ–≥–æ, –Ω—É–∂–Ω–æ —É–≥–ª—É–±–∏—Ç—å—Å—è –≤ —Ç–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç RAM –∏ –∫—ç—à –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –±—ã—Å—Ç—Ä–∞—è –ø–∞–º—è—Ç—å, —Å –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ–ø–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–ø—Ä—è–º—É—é.

–ö–æ–≥–¥–∞ —á–∏—Ç–∞–µ—Ç–µ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `string`, –≤—Å–µ —Å–æ—Å–µ–¥–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –∫—ç—à –≤–º–µ—Å—Ç–µ —Å –Ω–∏–º, –∏ –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∫ –¥–∞–ª—ë–∫–∏–º —Å–∏–º–≤–æ–ª–∞–º –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–æ–∫.

–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –∏–º–µ—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—ç—à-–ª–∏–Ω–∏–π, –æ–±—ã—á–Ω–æ —Ä–∞–∑–º–µ—Ä–æ–º 64 –±–∞–π—Ç–∞. –ö–∞–∂–¥–∞—è –∫—ç—à-–ª–∏–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç —É—á–∞—Å—Ç–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π, –∫ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–¥–∞–≤–Ω–æ –æ–±—Ä–∞—â–∞–ª–∞—Å—å –ø—Ä–æ–≥—Ä–∞–º–º–∞.

–ï—Å–ª–∏ –≤—ã –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤—Å–µ –±–ª–∏–∑–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ä–∞–∑—É, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∫—ç—à-–ª–∏–Ω–∏–∏ –∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ RAM –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏.

–ï—Å–ª–∏ –∂–µ —á—Ç–µ–Ω–∏—è —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ, —Ç–æ –µ—Å—Ç—å –≤—ã –æ–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ —Å–∏–º–≤–æ–ª—É, –∑–∞—Ç–µ–º –∫ —Å–∏–º–≤–æ–ª–∞–º –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–æ–∫, –∑–∞—Ç–µ–º –∫ —Å–æ—Å–µ–¥–Ω–µ–º—É, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –±—É–¥–µ—Ç –≤—ã–Ω—É–∂–¥–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫—ç—à-–ª–∏–Ω–∏–∏, –ø–æ–º–Ω–æ–≥—É —Ä–∞–∑ –∑–∞–ø–∏—Å—ã–≤–∞—è –≤ –Ω–∏—Ö –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è.

>üìñ –ò–º–µ–Ω–Ω–æ –Ω–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö –∫—ç—à–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –∑–Ω–∞–º–µ–Ω–∏—Ç–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å Meltdown, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –≤ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ Intel –≤ 2017 –≥–æ–¥—É.

–ö–æ–≥–¥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç—Å—è –ø–æ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –µ—ë –±–æ–ª—å—à–æ–π –∫—É—Å–æ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫—ç—à. –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ –æ–¥–Ω–æ–π –∫—ç—à-–ª–∏–Ω–∏–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤—Å–µ –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã. –ï—Å–ª–∏ –∂–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç ¬´–ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏¬ª, —Ç–æ –∏–∑ –∫—ç—à-–ª–∏–Ω–∏–∏ –≤—ã –ø–æ —Å—É—Ç–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª.

–í—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –±—ã–ª–æ —Å—Ç—Ä–∞–Ω–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä. –ü—Ä–∏ —ç—Ç–æ–º —è–≤–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏—è –Ω—É–ª—è ‚Äî –ª–∏—à–Ω–∏–µ —Å–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è—é—Ç. –£–±–µ—Ä—ë–º –∏—Ö –∏ —É—Å–∫–æ—Ä–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –µ—â—ë:


```cpp

vector<int> ComputeStatistics3(const vector<string>& vs, int n) {
    int m = vs.size();
    vector<int> result(n);

    for (int j = 0; j < m; ++j) {
        for (int i = 0; i < n; ++i) {
            // –±—É–¥–µ–º –ø—Ä–∏–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–∞–¥–æ
            if (vs[j][i] >= 'K') {
                ++result[i];
            }
        }
    }

    return result;
} 

```

–ù–∞–¥–µ–µ–º—Å—è –Ω–∞ –µ—â—ë –±–æ–ª—å—à–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º:


```cpp

ComputeStatistics: 142 ms
ComputeStatistics2: 41 ms
ComputeStatistics3: 198 ms
OK
–í—Å–µ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: 15379777 

```

–í–æ—Ç —ç—Ç–æ –¥–µ–ª–∞! –ú—ã —É–º–µ–Ω—å—à–∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–∂–µ–Ω–∏–π, –Ω–µ –¥–æ–±–∞–≤–∏–≤, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, –Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∞ —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏ —ç—Ç–æ–º —É–ø–∞–ª–∞ –ø–æ—á—Ç–∏ –≤ –ø—è—Ç—å —Ä–∞–∑.

–ü—Ä–∏—á–∏–Ω–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç–æ–∂–µ –≤ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤. `if` –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é ‚Äî —É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥. –¢–∞–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã—Ö –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –û–Ω –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –∫–æ–≥–¥–∞ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –µ–º—É –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ. –ü—Ä–∏ —É—Å–ª–æ–≤–Ω–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ —ç—Ç–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∫–∞–∫ –±—ã –≤–ø–∞–¥–∞–µ—Ç –≤ —Å—Ç—É–ø–æ—Ä. –í –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω—É–∂–Ω–æ –∏–∑–±–µ–≥–∞—Ç—å `if`, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—è —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞. –ù–æ —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏ —Ü–∏–∫–ª —Ç–æ–∂–µ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —É—Å–ª–æ–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞. –û–Ω–∏ –±—É–¥—É—Ç –∏–∑–±–µ–≥–∞—Ç—å –µ—ë –ª–∏—à—å –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞—è—Ö.

>üìñ –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å –≤–µ—Ç–æ–∫ ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ –æ–¥–Ω—É –∏–∑ –≤–µ—Ç–æ–∫ `if`/`else` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –µ—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Å–¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —É—Å–ª–æ–≤–∏—è. –≠—Ç–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ç–∞–∫–∂–µ –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ Meltdown. –¢–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–æ–¥ —Å `if`, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å—ë –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –≤–µ—Ç–∫–∞. –í –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É—Å–ª–æ–≤–∏–µ –≤–¥—Ä—É–≥ –æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –ª–æ–∂–Ω—ã–º, –Ω–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∫–∞–∫ –±—ã –ø–æ –∏–Ω–µ—Ä—Ü–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–µ—Ä–≤—É—é –≤–µ—Ç–∫—É. –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ —É—Å–ª–æ–≤–∏–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –ø–æ–∑–∂–µ, –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ—Ç–∫–∞—Ç—ã–≤–∞–ª –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–µ –Ω–µ –≤ —Ç–æ–π –≤–µ—Ç–∫–µ. –ù–æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–≥–ª–∏ –±—ã—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã.

–í—ã—Ö–æ–¥–∏—Ç, —Å–∞–º–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –≤—Ç–æ—Ä–∞—è. –í –Ω–µ–π –ø–∞–º—è—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `if`.

–ú—ã –ø—Ä–æ–¥–µ–ª–∞–ª–∏ –Ω–µ–ø–ª–æ—Ö—É—é —Ä–∞–±–æ—Ç—É, —Å—Ä–∞–≤–Ω–∏–≤ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ò–∑–º–µ—Ä–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª–∏ –ø–æ–ª–µ–∑–Ω—ã. –û—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –º—ã –±—ã–ª–∏ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —É–ª—É—á—à–∏–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —É–±—Ä–∞–≤ –Ω–µ–Ω—É–∂–Ω—ã–µ –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏—è, –∞ –≤—ã—à–ª–æ –Ω–∞–æ–±–æ—Ä–æ—Ç. –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –Ω—é–∞–Ω—Å—ã –Ω–µ–ª—å–∑—è, –Ω—É–∂–Ω–æ –∏–∑–º–µ—Ä—è—Ç—å.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ `ComputeStatistics2` —É–∂–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞. –ù–æ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –µ—â—ë –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, –≤—ã—Ö–æ–¥—è—â–∏—Ö –∑–∞ —Ä–∞–º–∫–∏ —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞:

-   –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞–¥ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —á–∏—Å–ª–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, ‚Äî –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ —Å–ª–æ–∂–µ–Ω–∏–µ. –≠—Ç–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è Single Instruction Multiple Data –∏–ª–∏ SIMD. –û —Ç–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –≤ [–≥–∞–π–¥–µ –æ—Ç Intel](https://software.intel.com/sites/landingpage/IntrinsicsGuide/). –ö–æ–≥–¥–∞ —Å–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ [–∑–µ—Ä–∫–∞–ª–æ](https://www.laruence.com/sse/#).
-   –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ `for` —Ç–æ–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏. –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä 16. –¢–∞–∫ –º—ã —Å–æ–∫—Ä–∞—Ç–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —É—Å–ª–æ–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤, –≤ 16 —Ä–∞–∑. –≠—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ø–æ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥, —Ç–∞–∫ –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—ã –∏–Ω–æ–≥–¥–∞ –¥–µ–ª–∞—é—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∞ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞ –ø—Ä–∏ —ç—Ç–æ–º —É—Ö—É–¥—à–∞–µ—Ç—Å—è.
-   –†–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ. –ú–æ–∂–Ω–æ –ø–æ—Ä—É—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ—Ç–æ–∫–∞–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –≤–µ–∫—Ç–æ—Ä–∞. –≠—Ç–æ –¥–æ–ª–∂–Ω–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –µ—Å–ª–∏ –¥—Ä—É–≥–∏–µ —è–¥—Ä–∞ –Ω–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã. –ö–æ–≥–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—á–∏—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ–ª–µ—Å–∫–æ–ø–æ–≤, —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ –≤—Ä—è–¥ –ª–∏ –¥–∞—Å—Ç –≤—ã–∏–≥—Ä—ã—à. –û –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –≤—ã —É–∑–Ω–∞–µ—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö.

### –ó–∞–¥–∞–Ω–∏–µ

–ú–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—è –∏–∑–º–µ—Ä—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è. –ò–∑–º–µ—Ä–µ–Ω–∏—è –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∏–¥–µ –≤–µ–∫—Ç–æ—Ä–∞ —á–∏—Å–µ–ª `float`. –ü–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–∞–±–æ—Ä –≤–µ–∫—Ç–æ—Ä–æ–≤ —Ç–∏–ø–∞ `vector<float>`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π –∑–∞ —Ä–∞–∑–Ω—ã–µ –¥–Ω–∏. –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—á–∏—Å–ª–∏—Ç—å —Å—Ä–µ–¥–Ω—é—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è (—É—Å—Ä–µ–¥–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã–µ –¥–Ω–∏). –ü—Ä–∏—á–µ–º, —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–ª–µ–¥—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ—Ä–µ–Ω–∏–π –≤ –¥–µ–Ω—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–∞–º–∏ ‚Äî –ø–æ —Ä–∞–∑–º–µ—Ä—É –ø–µ—Ä–≤–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ (–¥–ª—è –ø—É—Å—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –≤–µ—Ä–Ω–∏—Ç–µ –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç). –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤—Å–µ –≤–µ–∫—Ç–æ—Ä—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä.

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `ComputeAvgTemp`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –≤–µ–∫—Ç–æ—Ä, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ä–µ–¥–Ω—é—é –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è. –ï—Å–ª–∏ –¥–ª—è –∫–∞–∫–æ–≥–æ-—Ç–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Å–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–µ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã, —Ç–æ –∑–∞–ø–∏—à–∏—Ç–µ –¥–ª—è —ç—Ç–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è 0.

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ª–∏—Ç–µ—Ä–∞–ª —Ç–∏–ø–∞ `float` –Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ—Å–ª–µ —á–∏—Å–ª–∞ —Å —Ç–æ—á–∫–æ–π –±—É–∫–≤—É `f`. –ö—Å—Ç–∞—Ç–∏, –ª–∏–±–æ —Ü–µ–ª—É—é, –ª–∏–±–æ –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å –º–æ–∂–Ω–æ –æ–ø—É—Å–∫–∞—Ç—å, –µ—Å–ª–∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è 0. –ü—Ä–∏–º–µ—Ä—ã –ª–∏—Ç–µ—Ä–∞–ª–æ–≤: `3.14f`, `-.2f`, `20.f`.

–í–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞: –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã, –∏–∑–±–µ–≥–∞–π—Ç–µ `if`. –£—á—Ç–∏—Ç–µ ‚Äî –¥–µ–ª–µ–Ω–∏–µ —á–∏—Å–µ–ª —Ç–∞–∫–∂–µ –¥–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, —Å–ª–µ–¥—É–µ—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–ª–µ–Ω–∏–π.

### –ü—Ä–∏–º–µ—Ä


```cpp

void test() {
    // 4 –¥–Ω—è –ø–æ 3 –∏–∑–º–µ—Ä–µ–Ω–∏—è
    vector<vector<float>> v = {
        {0, -1, -1},
        {1, -2, -2},
        {2, 3, -3},
        {3, 4, -4}
    };

    // —Å—Ä–µ–¥–Ω–µ–µ –¥–ª—è 0-–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è (1+2+3) / 3 = 2 (–Ω–µ —É—á–∏—Ç—ã–≤–∞–º 0)
    // —Å—Ä–µ–¥–Ω–µ–µ –¥–ª—è 1-–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è (3+4) / 2 = 3.5 (–Ω–µ —É—á–∏—Ç—ã–≤–∞–º -1, -2)
    // —Å—Ä–µ–¥–Ω–µ–µ –¥–ª—è 2-–≥–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ (–≤—Å–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã), –ø–æ—ç—Ç–æ–º—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0

    assert(ComputeAvgTemp(v) == vector<float>({2, 3.5f, 0}));
}
```

