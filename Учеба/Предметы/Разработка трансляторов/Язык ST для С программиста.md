# Типы данных.
Cтандартные типы данных МЭК 61131-3 составляют из себя: 
1. Целочисленные типы SINT (char), USINT (unsigned char), INT (short int), UINT(unsigned int), DINT (long), UDINT (unsigned long), LINT (64 бит целое), ULINT (64 бит целое беззнака).
2. Действительные типы: REAL (float), LREAL (double).
3. Логический тип BOOL
4. Специальные типы BYTE, WORD, DWORD, LWORD представляют собой битовые строкидлиной 8, 16, 32 и 64 бит соответственно. Битовых полей в ST нет. К битовым строкам можнонепосредственно обращаться побитно. 
5. Строки STRING. Являются именно строкой, а не массивом. Поэтому нет возможности обращаться к отдельным символам. Зато можно сравнивать и копировать строки стандартными операторами. Например так: strA := strB. В МЭК есть стандартный набор функций для работы со строками. Внутренний формат строк не стандартизован. 
6. Специальные типы в стандарте МЭК определены для длительности (TIME), времени суток (TOD), календарной даты (DATE) и временного штампа (DT). 
7. Применение структур (STRUCT) не отличается от C. Описание структуры должно предшествовать объявлению переменной данного типа. Допускаются вложенные структуры и массивы.
8. Массивы (ARRAY) строятся из элементов любых типов, включая структуры и массивы. Из особенностей нужно отметить возможность задания повтора значений при инициализации. Массивы (и структуры) можно копировать с помощью обычной операции присваивания: 
9. Перечисления аналогичны перечислениям C. 
10. На базе целых можно построить типы, имеющие ограниченный диапазон значений.
11. Для любого типа можно создать псевдоним (typedef в C). 
12. Указателей и объединений нет. Динамическое распределение памяти в МЭК не предусмотрено.
13. Типа void  нет

# Идентификаторы.
1. Идентификаторы имен переменных могут иметь любую длину. 
2. Идентификаторы не чувствительны к регистру (XZ и Xz одно и тоже). Идентификаторы не должны начинаться с цифры (12x). Двойные подчеркивания запрещены

# Инициализация переменных.
1. По умолчанию, все переменные инициализируются нулем. Иное значение переменной можно указать явно при ее объявлении. 
2. Переменные можно объявить как RETAIN или PERSISTENT. Это означает требование их размещения в энергонезависимой памяти контроллера (если она есть). Их инициализация производится только при первом запуске программы или по специальной команде.
# Преобразование типов.
Неявное преобразование типов запрещено. Любое преобразование нужно делать явно с помощью специальных операторов. 

# Операторы и функции
Присваивание – :=
Алгебраические операции – + -, *, /
Замена знака – -
Остаток от деления – MOD
Абсолютное значение – ABS
Сравнения – < , > ,<=, >=
Равенство, неравенство – =, <>
И, ИЛИ, НЕ – AND, OR, NOT
Исключающее ИЛИ – XOR
Побитный сдвиг влево, вправо – SHL(in,n), SHR(in,n)
Циклический сдвиг влево, вправо – ROL(in,n), ROR(in,n)
Выбор их двух значений наибольшего, наименьшего – MAX(in0, in1), MIN(in0, in1)
Бинарный выбор – SEL(g, in0, in1)
Мультиплексор – MUX(k, in0,...,inN)
Передний и задний инкременты отсутствуют.
sizeof подобен тому, что присутствует в C – SIZEOF(in)
sprintf отсутсвует, но любую переменную можно преобразовать в строку с помощью _TO_STRING
Использование точки с запятой аналогично С
# Управляющие конструкции
## IF ELSE
Оператор выбора IF почти эквивалентен соответствующему оператору в C. Условием может
служить переменная или выражение только логического типа. В ином случае, необходимо
выполнить явное приведение к логическому типу.
Дополнительно в IF можно вложить последовательную цепочку условий ELSIF
## CASE
Аналогичен switch в C, но альтернативные ветки не имеют закрывающей программной скобки и не могут выполняться одна за другой. Соответственно оператор break не имеет смысла и отсутствует. При указании значений констант альтернативы можно перечислить через
запятую или указать диапазон.
## WHILE и REPEAT
Цикл WHILE совершенно аналогичен циклу while в C. REPEAT UNTIL соответствует do while. Тонкое отличие состоит в том, что REPEAT выполнятся до тех пор, пока условие не примет значение TRUE.
## FOR
Цикл FOR применяется для выполнения группы выражений заранее известное число раз.
Цикл включает установку начального значения, конечное значение, опционально шаг (по
умолчанию 1) и тело цикла. Пример:
FOR I := 1 TO 100 BY 10 DO x := x*y; END_FOR
На С этому соответствует:
for (I = 1; I <= 100; I += 10) x = x*y;
Бесконечный цикл в ST обычно записывается как WHILE TRUE DO.
Оператору break в циклах ST соответствует оператор EXIT. Оператор continue отсутствует.
## main и PLC_PRG
Любая контроллерная программа имеет
цикл:
while(1)
{
ReadInputs();
PLC_PRG();
WriteOutputs();
}
В коде ST эта конструкция представлена неявно. Сам главный цикл спрятан в системе исполнения. Любая ваша программа выполняется в цикле, если не предприняты специальные меры.
## Функции
В МЭК каждая функция имеет неявно объявленную переменную для возврата значения. 
Ее наименование совпадает с именем функции.
То есть int GetX(int x) { … return(x); } на ST будет выглядеть так:
GetX := x; RETURN;
Как и в языке C передавать параметры, при вызове функции, можно перечисляя их в скобках через запятую: GetX(2). Либо путем присваивания значений: GetX(x := 2). 
Память для переменных функции выделяется в стеке. Естественно, значения внутренних переменных не сохраняются между вызовами. 
Объявления локальных static переменных в функциях не предусмотрено. 
Для функций и функциональных блоков допускается передача параметров по ссылке (VAR_IN_OUT).
Функции МЭК могут иметь переменное число параметров. Типичный пример – это функция MUX, приведенная в таблице 1. Она может работать с переменным числом параметров, причем любого типа.
Любая функция должна иметь хотя бы один параметр и
возвращать значение.
Как и в С, вызовы функции можно включать в выражения.